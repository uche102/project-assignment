<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="partial" data-name="assignments">
      <div class="partial-nav">
        <button data-page="assignments" class="menu-item dynamic">
          Assignments / Tasks
        </button>
      </div>

      <div
        class="partial-content"
        data-page="assignments"
        data-title="Assignments & Tasks"
        style="display: none"
      >
        <section id="assignments" class="page">
          <h3>Assignments & Tests</h3>
          <form id="taskForm" class="form-inline">
            <input id="taskTitle" placeholder="Task title" />
            <input id="taskDue" type="date" value="" />
            <button type="submit" class="btn primary">Add Task</button>
          </form>

          <div class="panel">
            <h4>All Tasks</h4>
            <ul id="taskList" class="list"></ul>
          </div>
        </section>
      </div>
    </div>

    <script>
      document.addEventListener("partials:loaded", function () {
        var assignmentsPage = document.querySelector(
          '.partial-content[data-page="assignments"]'
        );
        if (assignmentsPage && assignmentsPage.style.display !== "none") {
          if (typeof window.renderTasks === "function") window.renderTasks();
        }
      });
    </script>
  </body>
</html>
